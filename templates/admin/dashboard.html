{% extends "Layout/base.html" %}
{% block title %}Admin · Dashboard{% endblock %}

{% block content %}
<h1>Admin Dashboard</h1>

<div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin:16px 0;">
  <div style="padding:16px;border:1px solid #e5e7eb;border-radius:12px;">
    <div>Total products</div>
    <div style="font-size:28px;font-weight:700;">{{ total_products }}</div>
  </div>
  <div style="padding:16px;border:1px solid #e5e7eb;border-radius:12px;">
    <div>Categories</div>
    <div style="font-size:28px;font-weight:700;">{{ category_count }}</div>
  </div>
  <div style="padding:16px;border:1px solid #e5e7eb;border-radius:12px;">
    <div>Average price</div>
    <div style="font-size:28px;font-weight:700;">
      {% if avg_price is not none %}${{ '%.2f'|format(avg_price) }}{% else %}—{% endif %}
    </div>
  </div>
</div>

<div style="margin: 12px 0;">
  <a href="{{ url_for('admin.products_index') }}" class="btn btn-primary">Manage Products →</a>
</div>

{% if newest %}
<hr>
<h3>Newest product</h3>
<p><strong>{{ newest.title }}</strong> — ${{ '%.2f'|format(newest.price) }}</p>
<p>{{ newest.description[:160] }}{% if newest.description|length > 160 %}…{% endif %}</p>
{% endif %}
{% endblock %}

